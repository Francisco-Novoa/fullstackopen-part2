(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(15),o=n.n(c),r=n(16),u=n(2),i=n(4),m=n.n(i),s="/api/persons",d=function(){return m.a.get(s).catch((function(e){return console.log(e),e})).then((function(e){return e.data}))},f=function(e){return m.a.post(s,e).then((function(e){return e.data}))},b=function(e,t,n){m.a.delete("".concat(s,"/").concat(e)).then(console.log).catch((function(e){t("the contact '".concat(n,"' was already deleted from server")),console.log(e)}))},h=function(e,t){m.a.put("".concat(s,"/").concat(e),t).then(console.log)},E=function(e){var t=e.person,n=e.remove;return l.a.createElement("tr",null,l.a.createElement("td",null,t.name),l.a.createElement("td",null,"#",t.number),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){n(t.id,t.name)}},"remove")))},v=function(e){var t=e.persons,n=e.remove;return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Names"),l.a.createElement("th",null,"Number"))),l.a.createElement("tbody",null,null!==t&&void 0!==t?t.map((function(e,t){return l.a.createElement(E,{person:e,key:e.id,remove:n})})):null))},w=function(e){var t=e.value,n=e.onChange,a=e.label;return l.a.createElement("div",null,l.a.createElement("div",{className:"bigly"},a,":"),l.a.createElement("div",{style:{display:"inline-block"}},l.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}})))},p=function(e){var t=e.newName,n=e.setNewName,a=e.newPhone,c=e.setNewPhone,o=e.HandleSubmit;return l.a.createElement("form",null,l.a.createElement(w,{value:t,onChange:n,label:"Name"}),l.a.createElement(w,{value:a,onChange:c,label:"Number"}),l.a.createElement("div",null,l.a.createElement("button",{className:"newcontact",onClick:function(e){o(e)}},"add")))},N=function(e){var t=e.message,n=e.classes;return null===t?null:l.a.createElement("div",{className:n},t)},g=function(e){var t=e.text;return l.a.createElement("h2",null,t)},j=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),m=i[0],s=i[1],E=Object(a.useState)(""),j=Object(u.a)(E,2),O=j[0],y=j[1],k=Object(a.useState)(null),S=Object(u.a)(k,2),C=S[0],x=S[1],P=Object(a.useState)(null),A=Object(u.a)(P,2),H=A[0],J=A[1],L=Object(a.useState)(""),T=Object(u.a)(L,2),B=T[0],D=T[1],F=Object(a.useState)(""),I=Object(u.a)(F,2),M=I[0],q=I[1];return Object(a.useEffect)((function(){d().then((function(e){c(e),s(e)}))}),[]),l.a.createElement("div",{className:"wrapper"},l.a.createElement(g,{text:"Phonebook."}),l.a.createElement(w,{value:O,onChange:function(e){y(e);var t=n.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));s(t)},label:"Filter shown with"}),l.a.createElement(g,{text:"Add a new contact."}),l.a.createElement(N,{message:C,classes:"good"}),l.a.createElement(N,{message:H,classes:"bad"}),l.a.createElement(p,{newName:B,setNewName:D,newPhone:M,setNewPhone:q,HandleSubmit:function(e){e.preventDefault();var t=Object(r.a)(n);if(""!==B&&""!==M){var a=t.find((function(e){return e.name===B}));if(void 0===a)f({name:B,number:M}).then((function(e){t.push(e),c(t),s(t),x("Added '".concat(B,"'")),setTimeout((function(){x(null)}),5e3)})),D(""),q("");else window.confirm("".concat(B," is already added to the phonebook, do you want to replace it?"))&&(h(a.id,{name:B,number:M}),d().then((function(e){c(e),s(e)})))}else window.confirm("you need to fill both Name and Number fields")}}),l.a.createElement(g,{text:"Numbers."}),l.a.createElement(v,{persons:m,remove:function(e,t){window.confirm("do you want to delete ".concat(t,"?"))&&(b(e,J,t),d().then((function(e){c(e),s(e)})),setTimeout((function(){J(null)}),5e3))}}))};n(39);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(j,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b8cb44b8.chunk.js.map